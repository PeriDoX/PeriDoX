%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Header                           %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% 
% This file is responsible for everything
% related to packages gnuplottex
% 
% Revisions: 2017-04-10 Martin Raedel <martin.raedel@dlr.de>
%                       Initial draft
%               
% Contact:   Martin Raedel,  martin.raedel@dlr.de
%            DLR Composite Structures and Adaptive Systems
%          
%                                 __/|__
%                                /_/_/_/  
%            www.dlr.de/fa/en      |/ DLR
% 
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Content                          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% ---------------------------
% Load required packages
% ---------------------------

\usepackage{graphicx}
\usepackage{latexsym}
\usepackage{keyval}
\usepackage{ifthen}
\usepackage{moreverb}
% \usepackage{gnuplot-lua-tikz}% for terminal=tikz

% ---------------------------
% Load package
% ---------------------------

\usepackage[
%   shell,     % Use shell escape
  miktex,    % 
  siunitx,   % Use siunitx to typeset numbers in the graphs
  subfolder, % generated graphs in a ”gnuplottex” subfolder
  cleanup,   % Delete the .gnuplot files after conversion
]{gnuplottex}

% ---------------------------
% Commands
% ---------------------------

% Scale gnuplottex images: 
% https://tex.stackexchange.com/a/133726/44634
\usepackage{xparse}
\ExplSyntaxOn
\DeclareExpandableDocumentCommand{\convertlen}{ O{cm} m }
 {
  \dim_to_decimal_in_unit:nn { #2 } { 1 #1 } cm
 }
\ExplSyntaxOff

% % Pass folder for data to gnuplottex
% % https://tex.stackexchange.com/a/116160/44634
% \usepackage{letltxmacro}
% \LetLtxMacro{\thegnuplot}{\gnuplot}         % save original gnuplot env 
% \LetLtxMacro{\endthegnuplot}{\endgnuplot}   % 
% 
% \def\linecolor#1{%                  
% \renewenvironment{gnuplot}[1][]
% {\thegnuplot[##1] s="#1";}          % gnuplot string variable "s" gets the color value
% {\endthegnuplot}
% }